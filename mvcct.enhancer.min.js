(function(){(function(q){var p=this||(0,eval)("this");(function(g){if("function"===typeof define&&define.amd)define(["exports","require"],g);else if("object"===typeof exports&&"object"===typeof module)g(module.exports||exports);else{var m=p.mvcct=p.mvcct||{};g(m.enhancer={})}})(function(g){function m(c){for(var a=0;a<f.length;a++){var d=f[a];if(d.b)try{d.b(c,d)}catch(e){}}for(a=0;a<f.length;a++)if(d=f[a],d.c)try{d.c(c,d)}catch(e){}for(var t=[],a=0;a<f.length;a++)if(d=f[a],d.a&&(!d.g||c.u))try{d.transform?
(d.transform(document.querySelector("body"),!0),t.push(d)):d.a(document.querySelector("body"))}catch(e){}f=t}var e="undefined"!==typeof g?g:{},f=[],u=!1,r=null,v=null,h=p.jQuery;h&&(v=h.fn.ready,h.fn.ready=function(c){f.push({transform:null,a:c,c:null,name:"document.ready: "+c.constructor.name,b:null,g:!0})});e.init=function(c){c=c||{};h?(h.fn.ready=v,h(document).ready(function(){m(c)})):m(c)};e.asyncReady=function(){r&&e.init(r);u=!0};e.waitAsync=function(c){u&&e.init(c);r=c||{}};e.register=function(c,
a,d,e,g){f.push({transform:c,a:a,c:d,name:e,b:g})};e.transform=function(c){for(var a=0;a<f.length;a++){var d=f[a];if(d.transform)try{d.transform(c,!1)}catch(e){}}};e.dependency=function(c,a,d,e,f){function g(){var d=document.createEvent("Event");d.initEvent("_enhancer.dependency."+c,!1,!0);a.dispatchEvent(d)}function h(){if(!a.getAttribute("data-enhancer-dependency"))try{a.setAttribute("data-enhancer-dependency","true");f(d,a);var e=document.createEvent("Event");e.initEvent("_enhancer.dependency."+
c,!1,!0);d.dispatchEvent(e)}finally{a.setAttribute("data-enhancer-dependency","")}}a.addEventListener("_enhancer.dependency."+c,h);for(var n=0;n<e.length;n++)a.addEventListener(e[n],g);return{h:h,j:g,name:"_enhancer.dependency."+c,f:e,node:a}};e.removeDependency=function(c){for(var a=c.f,d=0;d<a.length;d++)c.i.removeEventListener(a[d],c.j);c.i.removeEventListener(c.name,c.h)};(function(c){function a(b){try{var a=document.createElement("input");a.setAttribute("type",b);return a.type===b?(a.setAttribute("value",
"1illegal"),"1illegal"===a.value):!0}catch(c){return!0}}function d(b,a,c){for(var d in a){var e=a[d],e="boolean"===typeof e?e?"True":"False":""+e;a.hasOwnProperty(d)&&c.push({l:b?b+"."+d:d,m:e})}}function e(){var b=[];d("Html5InputSupport",m.Html5InputSupport,b);d("Html5InputOriginalSupport",m.Html5InputOriginalSupport,b);b=JSON.stringify(b);if(l.forms)for(var a=document.querySelectorAll("form"),c=0;c<a.length;c++){var f=document.createElement("input");f.setAttribute("type","hidden");f.setAttribute("name",
l.forms);f.setAttribute("value",b);a[c].appendChild(f)}l.cookie&&(document.cookie=l.cookie+"="+encodeURIComponent(b)+"; path=/")}function f(b){b=b||{};l={fallbackHtml5:b.fallbackHtml5===q?!1:b.fallbackHtml5,cookie:b.cookie===q?p.cookie:b.cookie,forms:b.forms===q?p.forms:b.forms,fallbacks:b.fallbacks||{},handlers:{}};l.handlers.replace=b.handlers&&b.handlers.replace?b.handlers.replace:function(b,a){return"number"==b||"date"==b||"datetime-local"==b||"month"==b||"time"==b||"week"==b?"text":"range"==
b?2<a.s||4>a.o?"text":"number":b};l.handlers.translateVal=b.handlers&&b.handlers.translateVal?b.handlers.translateVal:function(b){return b};k=l.handlers;k.fullReplace=b&&b.handlers?b.handlers.fullReplace:null;k.enhance=b&&b.handlers?b.handlers.enhance:{};e()}function g(b){var a=b.getAttribute("type"),c="datetime-local"==a?"datetime":a;if(!(3<n[c])){var d=k.replace(a,n);if(d!=a)if(k.fullReplace)k.fullReplace(b);else{var e=document.createElement("input");e.setAttribute("type",d);e.setAttribute("value",
k.translateVal(b.getAttribute("value"),c,d));for(c=0;c<b.attributes.length;c++)d=b.attributes[c].name,"min"!==d&&"max"!==d&&"type"!==d&&"value"!==d&&e.setAttribute(d,b.attributes[c].value);b.parentNode.replaceChild(e,b);if(k.enhance&&k.enhance[a])k.enhance[a](e)}}}var h={number:!a("number"),range:!a("range"),date:!a("date"),month:!a("month"),week:!a("week"),time:!a("time"),datetime:!a("datetime-local"),email:!a("email"),search:!a("search"),tel:!a("tel"),url:!a("url"),color:!a("color")},n={},m={Html5InputOriginalSupport:h,
Html5InputSupport:n},l=null,p={cookie:"_browser_basic_capabilities",forms:null},k=null;c.getSupport=function(){return m};c.register(null,!1,null,"html5 support",function(b){b=b||{};b=b.browserSupport.fallbacks;for(var a in h){var c=b[a];n[a]=!h[a]||c&&c.force?c?c.type:1:4}});c.register(function(b){if(l.fallbackHtml5)if("INPUT"==b.tagName)g(b);else{b=b.querySelectorAll("input");for(var a=0;a<b.length;a++)g(b[a])}},!0,function(a){a=a||{};f(a.browserSupport)},"html5 enhance")})(e)})})()})();
